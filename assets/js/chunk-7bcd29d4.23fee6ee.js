(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7bcd29d4"],{4208:function(t,e,r){!function(e,r){t.exports=r()}(0,function(){"use strict";return function(t,e,r){t=t||{};var i=e.prototype,n={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function s(t,e,r,n){return i.fromToBase(t,e,r,n)}r.en.relativeTime=n,i.fromToBase=function(e,i,s,a,o){for(var c,u,l,d=s.$locale().relativeTime||n,p=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],h=p.length,f=0;f<h;f+=1){var m=p[f];m.d&&(c=a?r(e).diff(s,m.d,!0):s.diff(e,m.d,!0));var _=(t.rounding||Math.round)(Math.abs(c));if(l=c>0,_<=m.r||!m.r){_<=1&&f>0&&(m=p[f-1]);var v=d[m.l];o&&(_=o(""+_)),u="string"==typeof v?v.replace("%d",_):v(_,i,m.l,l);break}}if(i)return u;var y=l?d.future:d.past;return"function"==typeof y?y(u):y.replace("%s",u)},i.to=function(t,e){return s(t,e,this,!0)},i.from=function(t,e){return s(t,e,this)};var a=function(t){return t.$u?r.utc():r()};i.toNow=function(t){return this.to(a(this),t)},i.fromNow=function(t){return this.from(a(this),t)}}})},"541b":function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Drawer",{attrs:{placement:"left","mask-style":{backgroundColor:"rgba(0,0,0,0.2)"},width:470,closable:!1},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[r("div",{staticClass:"sidebar-header",attrs:{slot:"header"},slot:"header"},[r("div",{staticClass:"btn left",on:{click:function(e){t.show=!1}}},[r("i",{staticClass:"iconfont"},[t._v("")])]),r("div",{staticClass:"title"},[t._v("云剪贴板")])]),r("div",{style:{height:"100%"},on:{click:function(t){t.stopPropagation()},touchstart:function(t){t.stopPropagation()}}},[r("Row",{staticClass:"operate_area",attrs:{gutter:20}},[t.isManual?r("Col",{key:"send",attrs:{span:24}},[r("Alert",{attrs:{type:"error","show-icon":""}},[t._v("未能读取到剪贴板内容，请手动添加")]),r("Input",{attrs:{type:"textarea",rows:3,placeholder:""},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}}),r("Button",{key:"send_btn",staticClass:"send_btn",attrs:{long:"",type:"primary",disabled:!t.text},on:{click:function(e){return t.add(t.text)}}},[t._v("添加到云剪贴板")])],1):[r("Col",{attrs:{span:12}},[r("input",{staticClass:"fake_hide",attrs:{type:"text",readonly:"",id:"clip_first_text"},domProps:{value:t.firstText}}),r("Button",{attrs:{long:"",type:"primary"},on:{click:t.copyFirstText}},[t._v("复制")])],1),r("Col",{attrs:{span:12}},[r("Button",{attrs:{long:"",type:"primary"},on:{click:t.cloudPaste}},[t._v("粘贴")])],1)]],2),r("Tabs",{attrs:{animated:!1},model:{value:t.clipType,callback:function(e){t.clipType=e},expression:"clipType"}},[r("a",{staticClass:"refresh_btn",attrs:{slot:"extra",href:"javascript:;"},on:{click:function(e){return t.getData(!0)}},slot:"extra"},[r("Icon",{attrs:{type:"ios-refresh"}}),r("span",[t._v("刷新")])],1),r("TabPane",{attrs:{label:"临时"}},[r("Alert",{attrs:{type:"warning","show-icon":""}},[t._v("为了信息安全，临时数据只保存24小时，到期自动删除")]),r("clip-list",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"tempList",attrs:{data:t.tempList},on:{del:t.remove}})],1),r("TabPane",{attrs:{label:"持久化"}},[r("Alert",{attrs:{"show-icon":""}},[t._v("持久化数据不会自动删除，但不建议你保存敏感信息")]),r("clip-list",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.saveList},on:{del:t.remove}})],1)],1)],1)])},n=[],s=(r("6762"),r("2fdb"),r("96cf"),r("3b8d")),a=r("60bb"),o=r.n(a),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.data.length?r("ul",{staticClass:"clip_list"},t._l(t.data,function(e){return r("li",{key:e._id,class:{"is-success":t.isSuccess[e._id],"is-error":t.isError[e._id],"is-hide":t.isDeleting[e._id]}},[r("div",{staticClass:"text"},[r("input",{staticClass:"fake_hide",attrs:{type:"text",readonly:"",id:e._id},domProps:{value:e.text}}),r("span",{domProps:{textContent:t._s(e.text)},on:{click:function(r){return t.copy(e)}}})]),r("div",{staticClass:"foot"},[r("div",{domProps:{textContent:t._s(t.getDate(e))}}),r("div",[r("a",{attrs:{href:"javascript:;"},on:{click:function(r){return t.copy(e)}}},[t._v(t._s(t.isCoping[e._id]?"已复制":"复制"))]),e.type?t._e():r("a",{attrs:{href:"javascript:;"},on:{click:function(r){return t.save(e)}}},[t._v("持久化")]),r("a",{attrs:{href:"javascript:;"},on:{click:function(r){return t.del(e)}}},[t._v("删除")])])])])}),0):r("div",{staticClass:"empty"})},u=[],l=r("62a2"),d={props:{data:{type:Array,default:function(){return[]}}},data:function(){return{isSuccess:{},isError:{},isCoping:{},isDeleting:{}}},methods:{setSuccess:function(t){var e=this;this.$set(this.isSuccess,t,!0),setTimeout(function(){e.$set(e.isSuccess,t,!1)},2e3)},setError:function(t){var e=this;this.$set(this.isError,t,!0),setTimeout(function(){e.$set(e.isError,t,!1)},2e3)},getDate:function(t){var e=Object(l["a"])(t._id);return t.type?e.format("YYYY-MM-DD hh:mm"):e.add(1,"day").fromNow(!0)+"后自动删除"},copy:function(t){var e=this;if(!t.$copying){var r=document.getElementById(t._id);r.select(),document.execCommand("Copy"),r.blur(),this.$set(this.isCoping,t._id,!0),setTimeout(function(){return e.$set(e.isCoping,t._id,void 0)},1e3)}},del:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.$set(this.isDeleting,e._id,!0),t.next=3,this.$api.user.clip.del({_id:e._id});case 3:if(r=t.sent,!r.err){t.next=8;break}return this.$set(this.isDeleting,e._id,void 0),this.setError(e._id),t.abrupt("return",r.showError());case 8:this.$emit("del",e._id),this.$set(this.isDeleting,e._id,void 0);case 10:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),save:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.$set(this.isDeleting,e._id,!0),t.next=3,this.$api.user.clip.update({_id:e._id,type:1});case 3:if(r=t.sent,!r.err){t.next=8;break}return this.$set(this.isDeleting,e._id,void 0),this.setError(e._id),t.abrupt("return",r.showError());case 8:this.$emit("del",e._id),this.$set(this.isDeleting,e._id,void 0);case 10:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()}},p=d,h=(r("bbe2"),r("2877")),f=Object(h["a"])(p,c,u,!1,null,"392f4ed4",null),m=f.exports,_={components:{clipList:m},data:function(){return{show:!1,text:"",tempList:[],saveList:[],clipType:0,isManual:!1,loading:!1}},computed:{tempListTexts:function(){return this.tempList.map(function(t){return t.text})},firstText:function(){return this.tempList.length&&this.tempList[0].text||""}},methods:{close:function(){this.show=!1},getData:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!!e,t.next=3,this.$api.user.clip.list({type:this.clipType});case 3:if(r=t.sent,this.loading=!1,!r.err){t.next=7;break}return t.abrupt("return",r.showError());case 7:1===this.clipType?this.saveList=r.data:this.tempList=r.data;case 8:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),add:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.$api.user.clip.add({text:e});case 4:if(r=t.sent,!r.err){t.next=7;break}return t.abrupt("return",r.showError());case 7:this.tempList.unshift({_id:r._id,text:e,type:0}),this.clipType=0,this.text="",this.$refs.tempList.setSuccess(r._id),this.$Message.success("已添加到云剪贴板"),this.isManual=!1;case 13:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),copyFirstText:o.a.throttle(Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=document.getElementById("clip_first_text"),e.select(),document.execCommand("Copy"),e.blur(),this.$Message.success("已复制");case 5:case"end":return t.stop()}},t,this)})),1e3,{trailing:!1}),cloudPaste:o.a.throttle(Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.clipboard.readText();case 3:if(this.text=t.sent,this.text){t.next=6;break}return t.abrupt("return",this.isManual=!0);case 6:if(!this.tempListTexts.includes(this.text)){t.next=8;break}return t.abrupt("return",this.$Message.error("内容已存在"));case 8:this.add(this.text),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),this.isManual=!0;case 14:case"end":return t.stop()}},t,this,[[0,11]])})),1e3,{trailing:!1}),remove:function(t){this.tempList=this.tempList.filter(function(e){return e._id!==t}),this.saveList=this.saveList.filter(function(e){return e._id!==t})},startPoll:function(){var t,e=this,r=function r(){t=setTimeout(function(){if(!e.show)return clearTimeout(t);document.hidden||e.getData(),r()},3e3)};r()}},mounted:function(){},watch:{show:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$emit("visible",e),e&&(this.getData(!0),this.startPoll());case 2:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),clipType:function(){this.getData(!0)}}},v=_,y=(r("58cf"),Object(h["a"])(v,i,n,!1,null,"6bfb7999",null));e["default"]=y.exports},"58cf":function(t,e,r){"use strict";var i=r("d543"),n=r.n(i);n.a},"62a2":function(t,e,r){"use strict";r.d(e,"a",function(){return u});r("6b54"),r("c5f6");var i=r("6e85"),n=r.n(i),s=r("4208"),a=r.n(s),o=r("a471"),c=r.n(o);n.a.locale(c.a),n.a.extend(a.a);var u=function(t){return t?n()(Number(parseInt(t.substr(0,8),16).toString()+"000")):0}},a471:function(t,e,r){!function(e,i){t.exports=i(r("6e85"))}(0,function(t){"use strict";function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=e(t),i={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(t,e){switch(e){case"W":return t+"周";default:return t+"日"}},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(t,e){var r=100*t+e;return r<600?"凌晨":r<900?"早上":r<1100?"上午":r<1300?"中午":r<1800?"下午":"晚上"}};return r.default.locale(i,null,!0),i})},bbe2:function(t,e,r){"use strict";var i=r("cdd7"),n=r.n(i);n.a},cdd7:function(t,e,r){},d543:function(t,e,r){}}]);